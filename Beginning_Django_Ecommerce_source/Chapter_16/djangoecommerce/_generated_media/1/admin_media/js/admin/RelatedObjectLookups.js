function html_unescape(a){a=a.replace(/&lt;/g,"<");a=a.replace(/&gt;/g,">");a=a.replace(/&quot;/g,'"');a=a.replace(/&#39;/g,"'");a=a.replace(/&amp;/g,"&");return a}function id_to_windowname(a){a=a.replace(/\./g,"__dot__");a=a.replace(/\-/g,"__dash__");return a}function windowname_to_id(a){a=a.replace(/__dot__/g,".");a=a.replace(/__dash__/g,"-");return a}function showRelatedObjectLookupPopup(c){var b=c.id.replace(/^lookup_/,"");b=id_to_windowname(b);var a;if(c.href.search(/\?/)>=0){a=c.href+"&pop=1"}else{a=c.href+"?pop=1"}var d=window.open(a,b,"height=500,width=800,resizable=yes,scrollbars=yes");d.focus();return false}function dismissRelatedLookupPopup(d,c){var a=windowname_to_id(d.name);var b=document.getElementById(a);if(b.className.indexOf("vManyToManyRawIdAdminField")!=-1&&b.value){b.value+=","+c}else{document.getElementById(a).value=c}d.close()}function showAddAnotherPopup(b){var a=b.id.replace(/^add_/,"");a=id_to_windowname(a);href=b.href;if(href.indexOf("?")==-1){href+="?_popup=1"}else{href+="&_popup=1"}var c=window.open(href,a,"height=500,width=800,resizable=yes,scrollbars=yes");c.focus();return false}function dismissAddAnotherPopup(e,c,g){c=html_unescape(c);g=html_unescape(g);var b=windowname_to_id(e.name);var d=document.getElementById(b);if(d){if(d.nodeName=="SELECT"){var f=new Option(g,c);d.options[d.options.length]=f;f.selected=true}else{if(d.nodeName=="INPUT"){d.value=c}}}else{var a=b+"_to";d=document.getElementById(a);var f=new Option(g,c);SelectBox.add_to_cache(a,f);SelectBox.redisplay(a)}e.close()};