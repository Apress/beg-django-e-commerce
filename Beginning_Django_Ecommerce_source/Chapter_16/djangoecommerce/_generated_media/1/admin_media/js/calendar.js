function removeChildren(b){while(b.hasChildNodes()){b.removeChild(b.lastChild)}}function quickElement(){var c=document.createElement(arguments[0]);if(arguments[2]!=""&&arguments[2]!=null){var d=document.createTextNode(arguments[2]);c.appendChild(d)}var a=arguments.length;for(var b=3;b<a;b+=2){c.setAttribute(arguments[b],arguments[b+1])}arguments[1].appendChild(c);return c}var CalendarNamespace={monthsOfYear:gettext("January February March April May June July August September October November December").split(" "),daysOfWeek:gettext("S M T W T F S").split(" "),isLeapYear:function(a){return(((a%4)==0)&&((a%100)!=0)||((a%400)==0))},getDaysInMonth:function(b,a){var c;if(b==1||b==3||b==5||b==7||b==8||b==10||b==12){c=31}else{if(b==4||b==6||b==9||b==11){c=30}else{if(b==2&&CalendarNamespace.isLeapYear(a)){c=29}else{c=28}}}return c},draw:function(j,k,d,m){j=parseInt(j);k=parseInt(k);var l=document.getElementById(d);removeChildren(l);var b=document.createElement("table");quickElement("caption",b,CalendarNamespace.monthsOfYear[j-1]+" "+k);var f=quickElement("tbody",b);var h=quickElement("tr",f);for(var e=0;e<7;e++){quickElement("th",h,CalendarNamespace.daysOfWeek[e])}var c=new Date(k,j-1,1).getDay();var o=CalendarNamespace.getDaysInMonth(j,k);h=quickElement("tr",f);for(var e=0;e<c;e++){var g=quickElement("td",h," ");g.style.backgroundColor="#f3f3f3"}var a=1;for(var e=c;a<=o;e++){if(e%7==0&&a!=1){h=quickElement("tr",f)}var n=quickElement("td",h,"");quickElement("a",n,a,"href","javascript:void("+m+"("+k+","+j+","+a+"));");a++}while(h.childNodes.length<7){var g=quickElement("td",h," ");g.style.backgroundColor="#f3f3f3"}l.appendChild(b)}};function Calendar(a,b){this.div_id=a;this.callback=b;this.today=new Date();this.currentMonth=this.today.getMonth()+1;this.currentYear=this.today.getFullYear()}Calendar.prototype={drawCurrent:function(){CalendarNamespace.draw(this.currentMonth,this.currentYear,this.div_id,this.callback)},drawDate:function(b,a){this.currentMonth=b;this.currentYear=a;this.drawCurrent()},drawPreviousMonth:function(){if(this.currentMonth==1){this.currentMonth=12;this.currentYear--}else{this.currentMonth--}this.drawCurrent()},drawNextMonth:function(){if(this.currentMonth==12){this.currentMonth=1;this.currentYear++}else{this.currentMonth++}this.drawCurrent()},drawPreviousYear:function(){this.currentYear--;this.drawCurrent()},drawNextYear:function(){this.currentYear++;this.drawCurrent()}};